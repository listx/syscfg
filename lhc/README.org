#+TITLE: Linus's Helpers
#+AUTHOR: Linus Arver
#+PROPERTY: header-args :tangle no :noweb no-export

* Introduction

The ~lhc~ binary is meant to slowly replace the shell scripts in =~/syscfg/script= with replacements written in Rust.

* Installation

** NixOS

We use [[https://github.com/oxalica/rust-overlay][rust-overlay]] as the development environment. We expect the ~<rust-overlay>~ Nix expression to be available in our ~shell.nix~ file. One way to make this expression available is to add it as a nix channel, like so:

#+begin_src shell
$ nix-channel --add https://github.com/oxalica/rust-overlay/archive/master.tar.gz rust-overlay
$ nix-channel --update
#+end_src

Now install with

#+begin_src shell
$ make
#+end_src

* Subcommands

** shorten-path

Replaces [[file:doc/code/simplify_path.sh]]. Basically it shortens long paths to try to fit under 30 characters if possible. It uses a Zsh named directory hash table as a way to try to shorten tho path.

#+begin_src
lh path-shorten --path-aliases ~/syscfg/zsh/path-aliases ~/aaaaaaaaaaaaaaaaaa/bbbbbbbbbbbb/cccccccccccccc/hello

  =>  ~/a/b/c/hello
#+end_src
