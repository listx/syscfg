[general]
# For now, it looks like offlineimap does not support syncing multiple accounts
# at the same time (some of the docs say that it is supported (option
# `maxsyncaccounts'), but it actually does not work). For syncing "work"
# account, we have to manually call a separate instance of offlineimap with `-a
# work' flag.
accounts = main
pythonfile = ~/syscfg/offlineimap/lib.py

[Account main]
localrepository = main-local
remoterepository = main-remote
autorefresh = 1
presynchook = ~/syscfg/offlineimap/lib.py
postsynchook = ~/syscfg/offlineimap/postsync notmuch-tags-main

[Account work]
localrepository = work-local
remoterepository = work-remote
autorefresh = 1
presynchook = ~/syscfg/offlineimap/lib.py
postsynchook = ~/syscfg/offlineimap/postsync notmuch-tags-work

[Repository main-local]
type = Maildir
localfolders = ~/mail/main
nametrans = nametrans_local

[Repository work-local]
type = Maildir
localfolders = ~/mail/work
nametrans = nametrans_local

[Repository main-remote]
type = Gmail
maxconnections = 1
remoteuser = linusarver@gmail.com
nametrans = nametrans_remote
sslcacertfile = /etc/ssl/certs/ca-certificates.crt
remotepasseval = decrypt_secret("linusarver@gmail.com")

[Repository work-remote]
type = Gmail
maxconnections = 1
remoteuser = linusa@google.com
nametrans = nametrans_remote
sslcacertfile = /etc/ssl/certs/ca-certificates.crt
remotepasseval = decrypt_secret("linusa@google.com")
