# Set background color for status bar.
set -gF status-style "bg=#{L_TMUX_COLOR_TEXT} fg=#{L_TMUX_COLOR_CURSOR} none"

# This sets the color for the name of the session (#{session_name}).
set -gF status-left-style "bg=#{L_TMUX_COLOR_CURSOR} fg=#{L_TMUX_COLOR_TEXT} bold"

# Colorize window names.
set -gw window-status-current-format "#(~/syscfg/script/tmux_get_window_format.sh \
    '#{pane_current_command}'\
    '#{pane_current_path}'\
    '#{window_name}'\
    '#{window_id}'\
    '#{pane_id}'\
    '#{window_flags}'\
    '#{window_panes}'\
    1)"
set -gw window-status-format "#(~/syscfg/script/tmux_get_window_format.sh \
    '#{pane_current_command}'\
    '#{pane_current_path}'\
    '#{window_name}'\
    '#{window_id}'\
    '#{pane_id}'\
    '#{window_flags}'\
    '#{window_panes}'\
    0)"

# Set colors for window titles in general.
set -gw window-status-style "fg=black"

# Highlight current active window in the status bar. See
# https://unix.stackexchange.com/q/210174/72230.
set -gw window-status-current-style "fg=black bold"

# Set colors for pane split borders.
set -g pane-active-border-style "bg=white  fg=white"
set -g pane-border-style        "bg=black  fg=white"

# Set colors for the active pane. For some reason this option is named
# "window-active-style" but it actually only affects the active pane within a
# window.
set -gw window-active-style "bg=brightblack fg=white"
set -gw window-style "bg=black fg=brightwhite"

set -g status-left "#(~/syscfg/script/tmux_get_status.sh \
    '#{session_name}'\
    '#{pane_mode}'\
    '#{client_key_table}')"
set -g status-right ""

# Configure the format of the status bar. The only difference between this and
# the default (`$ tmux show-options -g status-format') is that we customize the
# `list=left-marker' and `list=right-marker' strings. Unfortunately as of tmux
# 3.2a, there is no way other way to customize only these strings, so we simply
# take the default value and tweak it here..
set -g status-format[0] "#[align=left range=left #{status-left-style}]#[push-default]#{T;=/#{status-left-length}:status-left}#[pop-default]#[norange default]#[list=on align=#{status-justify}]#[list=left-marker]<- #[list=right-marker] ->#[list=on]#{W:#[range=window|#{window_index} #{window-status-style}#{?#{&&:#{window_last_flag},#{!=:#{window-status-last-style},default}}, #{window-status-last-style},}#{?#{&&:#{window_bell_flag},#{!=:#{window-status-bell-style},default}}, #{window-status-bell-style},#{?#{&&:#{||:#{window_activity_flag},#{window_silence_flag}},#{!=:#{window-status-activity-style},default}}, #{window-status-activity-style},}}]#[push-default]#{T:window-status-format}#[pop-default]#[norange default]#{?window_end_flag,,#{window-status-separator}},#[range=window|#{window_index} list=focus #{?#{!=:#{window-status-current-style},default},#{window-status-current-style},#{window-status-style}}#{?#{&&:#{window_last_flag},#{!=:#{window-status-last-style},default}}, #{window-status-last-style},}#{?#{&&:#{window_bell_flag},#{!=:#{window-status-bell-style},default}}, #{window-status-bell-style},#{?#{&&:#{||:#{window_activity_flag},#{window_silence_flag}},#{!=:#{window-status-activity-style},default}}, #{window-status-activity-style},}}]#[push-default]#{T:window-status-current-format}#[pop-default]#[norange list=on default]#{?window_end_flag,,#{window-status-separator}}}#[nolist align=right range=right #{status-right-style}]#[push-default]#{T;=/#{status-right-length}:status-right}#[pop-default]#[norange default]"

# Set colors for copy-mode selections.
set -gw mode-style "fg=black bg=brightgreen bold"
